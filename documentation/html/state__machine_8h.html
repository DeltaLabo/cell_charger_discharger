<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Electrochemical Cell Charger/Discharger/Tester: state_machine.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Electrochemical Cell Charger/Discharger/Tester
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">state_machine.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>State machine header file for Charge and Discharge System.  
<a href="#details">More...</a></p>

<p><a href="state__machine_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acca048a5ac637dcd51b02653d2565b81"><td class="memItemLeft" align="right" valign="top"><a id="acca048a5ac637dcd51b02653d2565b81"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CV_LOOPS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:acca048a5ac637dcd51b02653d2565b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8726e3a25442d0aeb20dafc1283706"><td class="memItemLeft" align="right" valign="top"><a id="a5a8726e3a25442d0aeb20dafc1283706"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EOCD_LOOPS</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a5a8726e3a25442d0aeb20dafc1283706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7676cdfa371dfdcf6fb0687737c29a6"><td class="memItemLeft" align="right" valign="top"><a id="ae7676cdfa371dfdcf6fb0687737c29a6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WAIT_TIME</b>&#160;&#160;&#160;600</td></tr>
<tr class="separator:ae7676cdfa371dfdcf6fb0687737c29a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491a89f6f402376e3f69b00b2966cdec"><td class="memItemLeft" align="right" valign="top"><a id="a491a89f6f402376e3f69b00b2966cdec"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DC_RES_TIME</b></td></tr>
<tr class="separator:a491a89f6f402376e3f69b00b2966cdec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d26458814361e1cf732df92f7dbc2d9"><td class="memItemLeft" align="right" valign="top"><a id="a5d26458814361e1cf732df92f7dbc2d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Li_Ion_CV</b>&#160;&#160;&#160;4200</td></tr>
<tr class="separator:a5d26458814361e1cf732df92f7dbc2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb28139964ea13e391208ea07372cace"><td class="memItemLeft" align="right" valign="top"><a id="adb28139964ea13e391208ea07372cace"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Li_Ion_CAP</b>&#160;&#160;&#160;3250</td></tr>
<tr class="separator:adb28139964ea13e391208ea07372cace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81005f04542aaf273060d238787a76e"><td class="memItemLeft" align="right" valign="top"><a id="ae81005f04542aaf273060d238787a76e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Li_Ion_EOC_curr</b>&#160;&#160;&#160;100</td></tr>
<tr class="separator:ae81005f04542aaf273060d238787a76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420dc094a5b1d985d2b3743ac2a426fa"><td class="memItemLeft" align="right" valign="top"><a id="a420dc094a5b1d985d2b3743ac2a426fa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Li_Ion_EOD_volt</b>&#160;&#160;&#160;3000</td></tr>
<tr class="separator:a420dc094a5b1d985d2b3743ac2a426fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e2a4926de4ad984b884e1ea882f06a"><td class="memItemLeft" align="right" valign="top"><a id="a94e2a4926de4ad984b884e1ea882f06a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Ni_MH_CAP</b>&#160;&#160;&#160;2500</td></tr>
<tr class="separator:a94e2a4926de4ad984b884e1ea882f06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f8da57c2fb3c5701f9d5fe4685bcd8"><td class="memItemLeft" align="right" valign="top"><a id="ae0f8da57c2fb3c5701f9d5fe4685bcd8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Ni_MH_EOC_DV</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ae0f8da57c2fb3c5701f9d5fe4685bcd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af373fd611e21c0465d97683ee7f334fb"><td class="memItemLeft" align="right" valign="top"><a id="af373fd611e21c0465d97683ee7f334fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Ni_MH_EOD_volt</b>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:af373fd611e21c0465d97683ee7f334fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa19be6305a5a4485e1e70de70ed7d677"><td class="memItemLeft" align="right" valign="top"><a id="aa19be6305a5a4485e1e70de70ed7d677"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>states</b> { <br />
&#160;&#160;<b>STANDBY</b> = 0, 
<b>IDLE</b> = 1, 
<b>FAULT</b> = 2, 
<b>ISDONE</b> = 3, 
<br />
&#160;&#160;<b>WAIT</b> = 4, 
<b>PRECHARGE</b> = 5, 
<b>DISCHARGE</b> = 6, 
<b>CHARGE</b> = 7, 
<br />
&#160;&#160;<b>POSTDISCHARGE</b> = 8, 
<b>DS_DC_res</b> = 9, 
<b>CS_DC_res</b> = 10
<br />
 }</td></tr>
<tr class="separator:aa19be6305a5a4485e1e70de70ed7d677"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a617e0199133fdef0d3a3e6a4a4c39c7e"><td class="memItemLeft" align="right" valign="top"><a id="a617e0199133fdef0d3a3e6a4a4c39c7e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#a617e0199133fdef0d3a3e6a4a4c39c7e">fSTANDBY</a> (void)</td></tr>
<tr class="memdesc:a617e0199133fdef0d3a3e6a4a4c39c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the <code>STANDBY</code> state of the state machine. <br /></td></tr>
<tr class="separator:a617e0199133fdef0d3a3e6a4a4c39c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14972c8bcddf306a0cc7f7f43a5e3c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#af14972c8bcddf306a0cc7f7f43a5e3c1">fIDLE</a> (void)</td></tr>
<tr class="memdesc:af14972c8bcddf306a0cc7f7f43a5e3c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the IDLE state of the state machine.  <a href="#af14972c8bcddf306a0cc7f7f43a5e3c1">More...</a><br /></td></tr>
<tr class="separator:af14972c8bcddf306a0cc7f7f43a5e3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c4e2b572b4dd0ba38a90c7721edf3d8"><td class="memItemLeft" align="right" valign="top"><a id="a0c4e2b572b4dd0ba38a90c7721edf3d8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#a0c4e2b572b4dd0ba38a90c7721edf3d8">fCHARGE</a> (void)</td></tr>
<tr class="memdesc:a0c4e2b572b4dd0ba38a90c7721edf3d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the IDLE state of the state machine. <br /></td></tr>
<tr class="separator:a0c4e2b572b4dd0ba38a90c7721edf3d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25aed7556b1faba14a86a62f1dd4f89"><td class="memItemLeft" align="right" valign="top"><a id="ad25aed7556b1faba14a86a62f1dd4f89"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#ad25aed7556b1faba14a86a62f1dd4f89">fDISCHARGE</a> (void)</td></tr>
<tr class="memdesc:ad25aed7556b1faba14a86a62f1dd4f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the IDLE state of the state machine. <br /></td></tr>
<tr class="separator:ad25aed7556b1faba14a86a62f1dd4f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b36b83531f2626d071ba3d1115ba83f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#a0b36b83531f2626d071ba3d1115ba83f">fDC_res</a> (void)</td></tr>
<tr class="memdesc:a0b36b83531f2626d071ba3d1115ba83f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the IDLE state of the state machine.  <a href="#a0b36b83531f2626d071ba3d1115ba83f">More...</a><br /></td></tr>
<tr class="separator:a0b36b83531f2626d071ba3d1115ba83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621fb7a48066389e0889ad9f7413f6c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#a621fb7a48066389e0889ad9f7413f6c9">fWAIT</a> (void)</td></tr>
<tr class="memdesc:a621fb7a48066389e0889ad9f7413f6c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the IDLE state of the state machine.  <a href="#a621fb7a48066389e0889ad9f7413f6c9">More...</a><br /></td></tr>
<tr class="separator:a621fb7a48066389e0889ad9f7413f6c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f57fe99a95d5951b37346f2e592a033"><td class="memItemLeft" align="right" valign="top"><a id="a6f57fe99a95d5951b37346f2e592a033"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#a6f57fe99a95d5951b37346f2e592a033">fISDONE</a> (void)</td></tr>
<tr class="memdesc:a6f57fe99a95d5951b37346f2e592a033"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the IDLE state of the state machine. <br /></td></tr>
<tr class="separator:a6f57fe99a95d5951b37346f2e592a033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa309f5ae96bb5d30d1097731fc373f1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#aa309f5ae96bb5d30d1097731fc373f1f">fFAULT</a> (void)</td></tr>
<tr class="memdesc:aa309f5ae96bb5d30d1097731fc373f1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function define the FAULT state of the state machine.  <a href="#aa309f5ae96bb5d30d1097731fc373f1f">More...</a><br /></td></tr>
<tr class="separator:aa309f5ae96bb5d30d1097731fc373f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff2901c12ca909508423d52e41fd0991"><td class="memItemLeft" align="right" valign="top"><a id="aff2901c12ca909508423d52e41fd0991"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Init_state_machine</b> (void)</td></tr>
<tr class="separator:aff2901c12ca909508423d52e41fd0991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac0a5594a4b61dc230b3a3a87cabbbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#aeac0a5594a4b61dc230b3a3a87cabbbc">Start_state_machine</a> (void)</td></tr>
<tr class="memdesc:aeac0a5594a4b61dc230b3a3a87cabbbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to start the state machine.  <a href="#aeac0a5594a4b61dc230b3a3a87cabbbc">More...</a><br /></td></tr>
<tr class="separator:aeac0a5594a4b61dc230b3a3a87cabbbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950cc2f73ac9d92961729babea8e2b96"><td class="memItemLeft" align="right" valign="top"><a id="a950cc2f73ac9d92961729babea8e2b96"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Parameter_set</b> (void)</td></tr>
<tr class="separator:a950cc2f73ac9d92961729babea8e2b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799208f9adf0381e672de81dc74e0482"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#a799208f9adf0381e672de81dc74e0482">State_machine</a> (void)</td></tr>
<tr class="memdesc:a799208f9adf0381e672de81dc74e0482"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function contain the main switching between the states of the main state machine.  <a href="#a799208f9adf0381e672de81dc74e0482">More...</a><br /></td></tr>
<tr class="separator:a799208f9adf0381e672de81dc74e0482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4668cf751ca7ad605fb837fa9464b7a"><td class="memItemLeft" align="right" valign="top"><a id="ad4668cf751ca7ad605fb837fa9464b7a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>option_50</b> (void)</td></tr>
<tr class="separator:ad4668cf751ca7ad605fb837fa9464b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af90cbff5d9b29ae55e7957ac4c83245b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#af90cbff5d9b29ae55e7957ac4c83245b">Li_Ion_param</a> (void)</td></tr>
<tr class="memdesc:af90cbff5d9b29ae55e7957ac4c83245b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to define the parameters of the charge/discharge process fo Li-Ion chemistry.  <a href="#af90cbff5d9b29ae55e7957ac4c83245b">More...</a><br /></td></tr>
<tr class="separator:af90cbff5d9b29ae55e7957ac4c83245b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9531a59844768f809398f2ac6f58015"><td class="memItemLeft" align="right" valign="top"><a id="ab9531a59844768f809398f2ac6f58015"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Ni_MH_param</b> (void)</td></tr>
<tr class="separator:ab9531a59844768f809398f2ac6f58015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee4a7125f4f22f1659d884e63932d02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__machine_8h.html#a8ee4a7125f4f22f1659d884e63932d02">Converter_settings</a> (void)</td></tr>
<tr class="memdesc:a8ee4a7125f4f22f1659d884e63932d02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set the configurations of the converter.  <a href="#a8ee4a7125f4f22f1659d884e63932d02">More...</a><br /></td></tr>
<tr class="separator:a8ee4a7125f4f22f1659d884e63932d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0558edb7889eddddb3a01e3956de01c4"><td class="memItemLeft" align="right" valign="top"><a id="a0558edb7889eddddb3a01e3956de01c4"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>start</b> = 0</td></tr>
<tr class="separator:a0558edb7889eddddb3a01e3956de01c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598df24d399c274a3ae633b375679914"><td class="memItemLeft" align="right" valign="top"><a id="a598df24d399c274a3ae633b375679914"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>c_char</b> = 0</td></tr>
<tr class="separator:a598df24d399c274a3ae633b375679914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f5540b81442ca52044c1896c81af8a"><td class="memItemLeft" align="right" valign="top"><a id="ac7f5540b81442ca52044c1896c81af8a"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>c_disc</b> = 0</td></tr>
<tr class="separator:ac7f5540b81442ca52044c1896c81af8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa138b263667688f0a28af01c14f90f8a"><td class="memItemLeft" align="right" valign="top"><a id="aa138b263667688f0a28af01c14f90f8a"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>option</b> = 0</td></tr>
<tr class="separator:aa138b263667688f0a28af01c14f90f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e93dea02fd068ae122115cb7011502"><td class="memItemLeft" align="right" valign="top"><a id="a21e93dea02fd068ae122115cb7011502"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>capacity</b></td></tr>
<tr class="separator:a21e93dea02fd068ae122115cb7011502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae97fa474a715b35ebf448672c98c2423"><td class="memItemLeft" align="right" valign="top"><a id="ae97fa474a715b35ebf448672c98c2423"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>i_char</b></td></tr>
<tr class="separator:ae97fa474a715b35ebf448672c98c2423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e93efcfc9f6d7ae68aacb0d05ef7d5"><td class="memItemLeft" align="right" valign="top"><a id="ad1e93efcfc9f6d7ae68aacb0d05ef7d5"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>i_disc</b></td></tr>
<tr class="separator:ad1e93efcfc9f6d7ae68aacb0d05ef7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f582152bcd11169abaab8dfb2e0ae2a"><td class="memItemLeft" align="right" valign="top"><a id="a2f582152bcd11169abaab8dfb2e0ae2a"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>cell_count</b> = 49</td></tr>
<tr class="separator:a2f582152bcd11169abaab8dfb2e0ae2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fd8f059b9286917da9abe7e3561aaa"><td class="memItemLeft" align="right" valign="top"><a id="a00fd8f059b9286917da9abe7e3561aaa"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>cell_max</b> = 0</td></tr>
<tr class="separator:a00fd8f059b9286917da9abe7e3561aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831d4d8b24682247ffe1b47b24dd45eb"><td class="memItemLeft" align="right" valign="top"><a id="a831d4d8b24682247ffe1b47b24dd45eb"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>EOCD_count</b></td></tr>
<tr class="separator:a831d4d8b24682247ffe1b47b24dd45eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52abd5fc6ce18d77f474abea61bf5570"><td class="memItemLeft" align="right" valign="top"><a id="a52abd5fc6ce18d77f474abea61bf5570"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>CV_count</b> = CV_LOOPS</td></tr>
<tr class="separator:a52abd5fc6ce18d77f474abea61bf5570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2208759c9c7cbca3bad4bd39cfa8ee5"><td class="memItemLeft" align="right" valign="top"><a id="ab2208759c9c7cbca3bad4bd39cfa8ee5"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>wait_count</b></td></tr>
<tr class="separator:ab2208759c9c7cbca3bad4bd39cfa8ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c31ae6c94bd66383723abb009cd71df"><td class="memItemLeft" align="right" valign="top"><a id="a9c31ae6c94bd66383723abb009cd71df"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>dc_res_count</b> = 0</td></tr>
<tr class="separator:a9c31ae6c94bd66383723abb009cd71df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12828525693568ae9c217805bea1ef9"><td class="memItemLeft" align="right" valign="top"><a id="ab12828525693568ae9c217805bea1ef9"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>state</b></td></tr>
<tr class="separator:ab12828525693568ae9c217805bea1ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adccf982bc5a265ad2bea7705c2f1de44"><td class="memItemLeft" align="right" valign="top"><a id="adccf982bc5a265ad2bea7705c2f1de44"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>previous_state</b></td></tr>
<tr class="separator:adccf982bc5a265ad2bea7705c2f1de44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844eec834160c0241153a7c2e3ebe93a"><td class="memItemLeft" align="right" valign="top"><a id="a844eec834160c0241153a7c2e3ebe93a"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>EOC_current</b></td></tr>
<tr class="separator:a844eec834160c0241153a7c2e3ebe93a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc487f7772301b70182dba480daa2ee0"><td class="memItemLeft" align="right" valign="top"><a id="acc487f7772301b70182dba480daa2ee0"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>EOD_voltage</b></td></tr>
<tr class="separator:acc487f7772301b70182dba480daa2ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970f83c09721a0ee9345babbc60dfb1d"><td class="memItemLeft" align="right" valign="top"><a id="a970f83c09721a0ee9345babbc60dfb1d"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>v_1_dcres</b></td></tr>
<tr class="separator:a970f83c09721a0ee9345babbc60dfb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e77c4807be0e46b1594a0263acaf36"><td class="memItemLeft" align="right" valign="top"><a id="a51e77c4807be0e46b1594a0263acaf36"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>i_1_dcres</b></td></tr>
<tr class="separator:a51e77c4807be0e46b1594a0263acaf36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c077367b1758f5052389b73d9953fa"><td class="memItemLeft" align="right" valign="top"><a id="a32c077367b1758f5052389b73d9953fa"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>v_2_dcres</b></td></tr>
<tr class="separator:a32c077367b1758f5052389b73d9953fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e61d5ae14f01d57c4b14204727ed8f8"><td class="memItemLeft" align="right" valign="top"><a id="a8e61d5ae14f01d57c4b14204727ed8f8"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>i_2_dcres</b></td></tr>
<tr class="separator:a8e61d5ae14f01d57c4b14204727ed8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e0b25759a62b1c0ee2ff911fa1aac40"><td class="memItemLeft" align="right" valign="top"><a id="a1e0b25759a62b1c0ee2ff911fa1aac40"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>dc_res_val</b></td></tr>
<tr class="separator:a1e0b25759a62b1c0ee2ff911fa1aac40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d0df6663ebfd9e0ca5ab835a5ad0e3"><td class="memItemLeft" align="right" valign="top"><a id="a95d0df6663ebfd9e0ca5ab835a5ad0e3"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>conv</b> = 0</td></tr>
<tr class="separator:a95d0df6663ebfd9e0ca5ab835a5ad0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e529a9e95de4d3e44000218b5f02b3"><td class="memItemLeft" align="right" valign="top"><a id="a91e529a9e95de4d3e44000218b5f02b3"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>press_s_str</b> [] = &quot;Press 's' to start: &quot;</td></tr>
<tr class="separator:a91e529a9e95de4d3e44000218b5f02b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e72a8140df9b0184966d82a224e4a43"><td class="memItemLeft" align="right" valign="top"><a id="a4e72a8140df9b0184966d82a224e4a43"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>starting_str</b> [] = &quot;Starting...&quot;</td></tr>
<tr class="separator:a4e72a8140df9b0184966d82a224e4a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710856a549a2706083bdd369b95bc179"><td class="memItemLeft" align="right" valign="top"><a id="a710856a549a2706083bdd369b95bc179"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>done_str</b> [] = &quot;DONE&quot;</td></tr>
<tr class="separator:a710856a549a2706083bdd369b95bc179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ce043ab432e23e42919d01153e4cce"><td class="memItemLeft" align="right" valign="top"><a id="a12ce043ab432e23e42919d01153e4cce"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>state_res_str</b> [] = &quot;-------------S-&quot;</td></tr>
<tr class="separator:a12ce043ab432e23e42919d01153e4cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e3fafa4b29f3316e4575b13eb734a5"><td class="memItemLeft" align="right" valign="top"><a id="af7e3fafa4b29f3316e4575b13eb734a5"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>end_state_res_str</b> [] = &quot;-S-------------&quot;</td></tr>
<tr class="separator:af7e3fafa4b29f3316e4575b13eb734a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f99579a3c4e19e72632166b38fc82b"><td class="memItemLeft" align="right" valign="top"><a id="ae3f99579a3c4e19e72632166b38fc82b"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>DC_res_str</b> [] = &quot;------------&gt;R&quot;</td></tr>
<tr class="separator:ae3f99579a3c4e19e72632166b38fc82b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1548543e3f7fe5e66a07e0829c520a6"><td class="memItemLeft" align="right" valign="top"><a id="aa1548543e3f7fe5e66a07e0829c520a6"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>end_str</b> [] = &quot;&lt;------------&quot;</td></tr>
<tr class="separator:aa1548543e3f7fe5e66a07e0829c520a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d30ddd22dad30b60ffed7aa3b538f5a"><td class="memItemLeft" align="right" valign="top"><a id="a9d30ddd22dad30b60ffed7aa3b538f5a"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>num_1and2_str</b> [] = &quot;Please input a number between 1 and 2&quot;</td></tr>
<tr class="separator:a9d30ddd22dad30b60ffed7aa3b538f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a814d4440d23060c6d7ca647e050f7cfd"><td class="memItemLeft" align="right" valign="top"><a id="a814d4440d23060c6d7ca647e050f7cfd"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>num_1and3_str</b> [] = &quot;Please input a number between 1 and 3&quot;</td></tr>
<tr class="separator:a814d4440d23060c6d7ca647e050f7cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2d116bb9b6a4a402c4210368292297"><td class="memItemLeft" align="right" valign="top"><a id="afe2d116bb9b6a4a402c4210368292297"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>num_1and4_str</b> [] = &quot;Please input a number between 1 and 4&quot;</td></tr>
<tr class="separator:afe2d116bb9b6a4a402c4210368292297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c2cf123a74c2b276de0c32bb88cc87"><td class="memItemLeft" align="right" valign="top"><a id="a27c2cf123a74c2b276de0c32bb88cc87"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>param_def_str</b> [] = &quot;---Parameter definition for charger and discharger---&quot;</td></tr>
<tr class="separator:a27c2cf123a74c2b276de0c32bb88cc87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e84886842df542b6aa4117a4985997b"><td class="memItemLeft" align="right" valign="top"><a id="a6e84886842df542b6aa4117a4985997b"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>restarting_str</b> [] = &quot;Restarting...&quot;</td></tr>
<tr class="separator:a6e84886842df542b6aa4117a4985997b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18f769fd923582d32f0e1ceb9ff1a3e"><td class="memItemLeft" align="right" valign="top"><a id="aa18f769fd923582d32f0e1ceb9ff1a3e"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>chem_def_liion</b> [] = &quot;Chemistry defined as Li-Ion&quot;</td></tr>
<tr class="separator:aa18f769fd923582d32f0e1ceb9ff1a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71f311f1a8aac2bf591ed9455ed9cba"><td class="memItemLeft" align="right" valign="top"><a id="ab71f311f1a8aac2bf591ed9455ed9cba"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>chem_def_nimh</b> [] = &quot;Chemistry defined as Ni-MH&quot;</td></tr>
<tr class="separator:ab71f311f1a8aac2bf591ed9455ed9cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb12c38178772709b3c406939b612e9"><td class="memItemLeft" align="right" valign="top"><a id="a8cb12c38178772709b3c406939b612e9"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>mv_str</b> [] = &quot; mV&quot;</td></tr>
<tr class="separator:a8cb12c38178772709b3c406939b612e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a182c823b33a629ff5d6e32bb03725f0d"><td class="memItemLeft" align="right" valign="top"><a id="a182c823b33a629ff5d6e32bb03725f0d"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>mAh_str</b> [] = &quot; mAh&quot;</td></tr>
<tr class="separator:a182c823b33a629ff5d6e32bb03725f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a429b7a40fb32bd9fa16ee483a111219e"><td class="memItemLeft" align="right" valign="top"><a id="a429b7a40fb32bd9fa16ee483a111219e"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>mA_str</b> [] = &quot; mA&quot;</td></tr>
<tr class="separator:a429b7a40fb32bd9fa16ee483a111219e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9393ea939d20c53efc26e49d05e9369d"><td class="memItemLeft" align="right" valign="top"><a id="a9393ea939d20c53efc26e49d05e9369d"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>EOD_V_str</b> [] = &quot;End of discharge voltage: &quot;</td></tr>
<tr class="separator:a9393ea939d20c53efc26e49d05e9369d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafae06f345b48fed8a1908d0cd0a84e2"><td class="memItemLeft" align="right" valign="top"><a id="aafae06f345b48fed8a1908d0cd0a84e2"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>EOC_I_str</b> [] = &quot;End of charge current: &quot;</td></tr>
<tr class="separator:aafae06f345b48fed8a1908d0cd0a84e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fff21a1610991bd0a87d0a2a77d0f60"><td class="memItemLeft" align="right" valign="top"><a id="a1fff21a1610991bd0a87d0a2a77d0f60"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>cho_bet_str</b> [] = &quot;Chose between following options: &quot;</td></tr>
<tr class="separator:a1fff21a1610991bd0a87d0a2a77d0f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a284f0268ca3e501b485f8ee5549d27e2"><td class="memItemLeft" align="right" valign="top"><a id="a284f0268ca3e501b485f8ee5549d27e2"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>quarter_c_str</b> [] = &quot;(1) 0.25C&quot;</td></tr>
<tr class="separator:a284f0268ca3e501b485f8ee5549d27e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab969b52eb0314da6b83b35483dfba7a1"><td class="memItemLeft" align="right" valign="top"><a id="ab969b52eb0314da6b83b35483dfba7a1"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>half_c_str</b> [] = &quot;(2) 0.50C&quot;</td></tr>
<tr class="separator:ab969b52eb0314da6b83b35483dfba7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410ee1698dbdc5fdc0be790cfa7b03c0"><td class="memItemLeft" align="right" valign="top"><a id="a410ee1698dbdc5fdc0be790cfa7b03c0"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>one_c_str</b> [] = &quot;(3) 1C&quot;</td></tr>
<tr class="separator:a410ee1698dbdc5fdc0be790cfa7b03c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6892bda03919f5470b55eaa9b2d0c90"><td class="memItemLeft" align="right" valign="top"><a id="ab6892bda03919f5470b55eaa9b2d0c90"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>cell_str</b> [] = &quot;Cell &quot;</td></tr>
<tr class="separator:ab6892bda03919f5470b55eaa9b2d0c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551eda5de85ae4fa3627d60ee229193b"><td class="memItemLeft" align="right" valign="top"><a id="a551eda5de85ae4fa3627d60ee229193b"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>dis_def_quarter_str</b> [] = &quot;Discharge current defined as 0.25C&quot;</td></tr>
<tr class="separator:a551eda5de85ae4fa3627d60ee229193b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef170ec65796e63a3a46e5484d8b2f20"><td class="memItemLeft" align="right" valign="top"><a id="aef170ec65796e63a3a46e5484d8b2f20"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>dis_def_half_str</b> [] = &quot;Discharge current defined as 0.5C&quot;</td></tr>
<tr class="separator:aef170ec65796e63a3a46e5484d8b2f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769237f2584e8f3f2947ba11d7051b0d"><td class="memItemLeft" align="right" valign="top"><a id="a769237f2584e8f3f2947ba11d7051b0d"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>dis_def_one_str</b> [] = &quot;Discharge current defined as 1C&quot;</td></tr>
<tr class="separator:a769237f2584e8f3f2947ba11d7051b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf6025401978a7fcc9e78daebfb90576"><td class="memItemLeft" align="right" valign="top"><a id="adf6025401978a7fcc9e78daebfb90576"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>char_def_quarter_str</b> [] = &quot;Charge current defined as 0.25C&quot;</td></tr>
<tr class="separator:adf6025401978a7fcc9e78daebfb90576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c81aa640f888c1f0c830471cc24a82"><td class="memItemLeft" align="right" valign="top"><a id="a02c81aa640f888c1f0c830471cc24a82"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>char_def_half_str</b> [] = &quot;Charge current defined as 0.5C&quot;</td></tr>
<tr class="separator:a02c81aa640f888c1f0c830471cc24a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa01e0b2be9a3c5ff2080ba709348d2ff"><td class="memItemLeft" align="right" valign="top"><a id="aa01e0b2be9a3c5ff2080ba709348d2ff"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>char_def_one_str</b> [] = &quot;Charge current defined as 1C&quot;</td></tr>
<tr class="separator:aa01e0b2be9a3c5ff2080ba709348d2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61f3ba257415a95ef8f00e5c5c44eb2"><td class="memItemLeft" align="right" valign="top"><a id="ac61f3ba257415a95ef8f00e5c5c44eb2"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>cv_val_str</b> [] = &quot;Constant voltage value: &quot;</td></tr>
<tr class="separator:ac61f3ba257415a95ef8f00e5c5c44eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0adfbdf284ca1b13c49058b9b6c139f6"><td class="memItemLeft" align="right" valign="top"><a id="a0adfbdf284ca1b13c49058b9b6c139f6"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>nom_cap_str</b> [] = &quot;Nominal capacity: &quot;</td></tr>
<tr class="separator:a0adfbdf284ca1b13c49058b9b6c139f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f6c7694f68bfdc6d42edf38d098c8a"><td class="memItemLeft" align="right" valign="top"><a id="ab7f6c7694f68bfdc6d42edf38d098c8a"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>def_char_curr_str</b> [] = &quot;Define charge current (input the number): &quot;</td></tr>
<tr class="separator:ab7f6c7694f68bfdc6d42edf38d098c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2942d095029e520cd38bcae077dfdb05"><td class="memItemLeft" align="right" valign="top"><a id="a2942d095029e520cd38bcae077dfdb05"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>def_disc_curr_str</b> [] = &quot;Define discharge current (input the number): &quot;</td></tr>
<tr class="separator:a2942d095029e520cd38bcae077dfdb05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ab8f2affad053697db60e7c2ec83266"><td class="memItemLeft" align="right" valign="top"><a id="a2ab8f2affad053697db60e7c2ec83266"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>def_num_cell_str</b> [] = &quot;Define number of cells to be tested (input the number, maximum of 4): &quot;</td></tr>
<tr class="separator:a2ab8f2affad053697db60e7c2ec83266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62f424eed8df92c38c616425f2bdb99"><td class="memItemLeft" align="right" valign="top"><a id="ac62f424eed8df92c38c616425f2bdb99"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>num_cell_str</b> [] = &quot;Number of cells to be tested: &quot;</td></tr>
<tr class="separator:ac62f424eed8df92c38c616425f2bdb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1708638a3711c33c3754818b88aaab"><td class="memItemLeft" align="right" valign="top"><a id="a1c1708638a3711c33c3754818b88aaab"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>one_str</b> [] = &quot;1&quot;</td></tr>
<tr class="separator:a1c1708638a3711c33c3754818b88aaab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4501e00437dc146c0fed3e12d7db1638"><td class="memItemLeft" align="right" valign="top"><a id="a4501e00437dc146c0fed3e12d7db1638"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>two_str</b> [] = &quot;2&quot;</td></tr>
<tr class="separator:a4501e00437dc146c0fed3e12d7db1638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6867a7d1919a8ea0fae36ebcf788af9"><td class="memItemLeft" align="right" valign="top"><a id="ad6867a7d1919a8ea0fae36ebcf788af9"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>three_str</b> [] = &quot;3&quot;</td></tr>
<tr class="separator:ad6867a7d1919a8ea0fae36ebcf788af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539dcdeb3c162e5f4b075c398f9f439d"><td class="memItemLeft" align="right" valign="top"><a id="a539dcdeb3c162e5f4b075c398f9f439d"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>four_str</b> [] = &quot;4&quot;</td></tr>
<tr class="separator:a539dcdeb3c162e5f4b075c398f9f439d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80434f5ef5045794e80d898839b1457c"><td class="memItemLeft" align="right" valign="top"><a id="a80434f5ef5045794e80d898839b1457c"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_1_str</b> [] = &quot;(1) Precharge-&gt;Discharge-&gt;Charge&quot;</td></tr>
<tr class="separator:a80434f5ef5045794e80d898839b1457c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ebd16162451bcb9ca15742f63d29287"><td class="memItemLeft" align="right" valign="top"><a id="a0ebd16162451bcb9ca15742f63d29287"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_2_str</b> [] = &quot;(2) Discharge-&gt;Charge&quot;</td></tr>
<tr class="separator:a0ebd16162451bcb9ca15742f63d29287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3af1aef6dab7509803778483f8ff8c"><td class="memItemLeft" align="right" valign="top"><a id="abc3af1aef6dab7509803778483f8ff8c"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_3_str</b> [] = &quot;(3) Only Charge&quot;</td></tr>
<tr class="separator:abc3af1aef6dab7509803778483f8ff8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5615d8bce5092a1433d0f0b36cb3a6"><td class="memItemLeft" align="right" valign="top"><a id="aab5615d8bce5092a1433d0f0b36cb3a6"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_4_str</b> [] = &quot;(4) Only Discharge&quot;</td></tr>
<tr class="separator:aab5615d8bce5092a1433d0f0b36cb3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324e3b49a7bc9c16c3c4e68f5e90df33"><td class="memItemLeft" align="right" valign="top"><a id="a324e3b49a7bc9c16c3c4e68f5e90df33"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_1_sel_str</b> [] = &quot;Precharge-&gt;Discharge-&gt;Charge selected...&quot;</td></tr>
<tr class="separator:a324e3b49a7bc9c16c3c4e68f5e90df33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa87fabeb2de279ba1edd4529e9ab57"><td class="memItemLeft" align="right" valign="top"><a id="a0fa87fabeb2de279ba1edd4529e9ab57"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_2_sel_str</b> [] = &quot;Discharge-&gt;Charge selected...&quot;</td></tr>
<tr class="separator:a0fa87fabeb2de279ba1edd4529e9ab57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc3248d4ff2a1854b4ced1b0f8386cc"><td class="memItemLeft" align="right" valign="top"><a id="a7cc3248d4ff2a1854b4ced1b0f8386cc"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_3_sel_str</b> [] = &quot;Only Charge selected...&quot;</td></tr>
<tr class="separator:a7cc3248d4ff2a1854b4ced1b0f8386cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee56d8ffa4d20b84c8214334efce3ea"><td class="memItemLeft" align="right" valign="top"><a id="a4ee56d8ffa4d20b84c8214334efce3ea"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>li_ion_op_4_sel_str</b> [] = &quot;Only Discharge selected...&quot;</td></tr>
<tr class="separator:a4ee56d8ffa4d20b84c8214334efce3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138648efb4ba60bc05e036bfbac7572a"><td class="memItemLeft" align="right" valign="top"><a id="a138648efb4ba60bc05e036bfbac7572a"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>cell_below_str</b> [] = &quot;Cell below 0.9V or not present&quot;</td></tr>
<tr class="separator:a138648efb4ba60bc05e036bfbac7572a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66ee60502107327c20c0a658942e1ec"><td class="memItemLeft" align="right" valign="top"><a id="af66ee60502107327c20c0a658942e1ec"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>in_wait_str</b> [] = &quot;------------W-&quot;</td></tr>
<tr class="separator:af66ee60502107327c20c0a658942e1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff01fd0e8bd269027571c68a159a140"><td class="memItemLeft" align="right" valign="top"><a id="a1ff01fd0e8bd269027571c68a159a140"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>end_wait_str</b> [] = &quot;-W------------&quot;</td></tr>
<tr class="separator:a1ff01fd0e8bd269027571c68a159a140"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>State machine header file for Charge and Discharge System. </p>
<dl class="section author"><dt>Author</dt><dd>Juan J. Rojas </dd></dl>
<dl class="section date"><dt>Date</dt><dd>7 Aug 2018 </dd></dl>
<dl class="section user"><dt>Institution:</dt><dd>LaSEINE / CeNT. Kyushu Institute of Technology. </dd></dl>
<dl class="section user"><dt>Mail (after leaving Kyutech):</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'jua'+'n.'+'roj'+'as'+'@te'+'c.'+'ac.'+'cr'; return false;">juan.<span style="display: none;">.nosp@m.</span>roja<span style="display: none;">.nosp@m.</span>s@tec<span style="display: none;">.nosp@m.</span>.ac.<span style="display: none;">.nosp@m.</span>cr</a> </dd></dl>
<dl class="section user"><dt>Git repository:</dt><dd><a href="https://bitbucket.org/juanjorojash/cell_charger_discharger">https://bitbucket.org/juanjorojash/cell_charger_discharger</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8ee4a7125f4f22f1659d884e63932d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee4a7125f4f22f1659d884e63932d02">&#9670;&nbsp;</a></span>Converter_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Converter_settings </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set the configurations of the converter. </p>
<p>Initially, the function set the proportional (<code>kp</code>) and integral (<code>ki</code>) constants for the PI loop.</p>
<p>Then, the system is configured to start in constant current mode by setting. <code> cmode = 1 </code></p>
<p>The integral component of the PI (<code>integral</code>) is set to zero.</p>
<p><code>EOCD_count</code> is defined as <code>EOCD_LOOPS</code>. That is, after the system is in EOC condition, the condition needs to be mantained for <code>EOCD_LOOPS</code> loop cycles before the system stop the charge process.</p>
<p><code>CV_count</code> is defined as <code>CV_LOOPS</code>. That is, after the system reach the CV voltage, the condition needs to be mantained for <code>CV_LOOPS</code> loop cycles before the system change to <b> constant voltage mode </b>.</p>
<p>The initial <b> duty cycle </b> of the PWM is set to <code>DC_START</code> </p>
<p>The <a class="el" href="#a95853552054d1c99e8765eca54abb930">set_DC()</a> function is called.</p>
<p>The <a class="el" href="#a1d26bd6e1261ba0d776c492ad35593f4">Cell_ON()</a> function is called.</p>
<p>If the current state is <code>PRECHARGE</code> or <code>CHARGE</code> </p>
<blockquote class="doxtable">
<p>The current setpoint (<code>iref</code>) is defined as <code>i_char</code> </p>
</blockquote>
<blockquote class="doxtable">
<p>The charge/discharge relay (<code>RA0</code>) will be set to the charge position (low) </p>
</blockquote>
<p>If the current state is <code>DISCHARGE</code> </p>
<blockquote class="doxtable">
<p>The current setpoint (<code>iref</code>) is defined as <code>i_disc</code> </p>
</blockquote>
<blockquote class="doxtable">
<p>The charge/discharge relay (<code>RA0</code>) will be set to the discharge position (high) </p>
</blockquote>
<p>If the current state is <code>CS_DC_res</code> or <code>DS_DC_res</code> </p>
<blockquote class="doxtable">
<p>The current setpoint (<code>iref</code>) is defined as <code> capacity / 5 </code> </p>
</blockquote>
<blockquote class="doxtable">
<p>The charge/discharge relay (<code>RA0</code>) will be set to the discharge position (high) </p>
</blockquote>

</div>
</div>
<a id="a0b36b83531f2626d071ba3d1115ba83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b36b83531f2626d071ba3d1115ba83f">&#9670;&nbsp;</a></span>fDC_res()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fDC_res </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function define the IDLE state of the state machine. </p>
<p>I dont like this </p>

</div>
</div>
<a id="aa309f5ae96bb5d30d1097731fc373f1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa309f5ae96bb5d30d1097731fc373f1f">&#9670;&nbsp;</a></span>fFAULT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fFAULT </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function define the FAULT state of the state machine. </p>
<p>The function will stop the converter usign <a class="el" href="hardware_8h.html#ae1cb4a0872e924cf862a97b33dd2edf0">STOP_CONVERTER()</a> macro</p>
<p>The <code>state</code> will be set to <code>STANDBY</code> </p>

</div>
</div>
<a id="af14972c8bcddf306a0cc7f7f43a5e3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14972c8bcddf306a0cc7f7f43a5e3c1">&#9670;&nbsp;</a></span>fIDLE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fIDLE </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function define the IDLE state of the state machine. </p>
<p>At first, the program will call the <a class="el" href="state__machine_8c.html#aed563ae909f60360b1eaee8bcf5803e3">Start_state_machine()</a> function. </p>

</div>
</div>
<a id="a621fb7a48066389e0889ad9f7413f6c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a621fb7a48066389e0889ad9f7413f6c9">&#9670;&nbsp;</a></span>fWAIT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fWAIT </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function define the IDLE state of the state machine. </p>
<p>MAYBEOK </p>

</div>
</div>
<a id="af90cbff5d9b29ae55e7957ac4c83245b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af90cbff5d9b29ae55e7957ac4c83245b">&#9670;&nbsp;</a></span>Li_Ion_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Li_Ion_param </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to define the parameters of the charge/discharge process fo Li-Ion chemistry. </p>
<p>This function will first show the pre-set parameters for charging that are:</p>
<blockquote class="doxtable">
<p><code>Li_Ion_CV</code> = 4200 mV </p>
</blockquote>
<blockquote class="doxtable">
<p><code>Li_Ion_CAP</code> = 3250 mAh </p>
</blockquote>
<p>The <code>capacity</code> will be set to <code>Li_Ion_CAP</code>.</p>
<p>For the charging current it will show three options:</p>
<ul>
<li>1) 0.25 C</li>
<li>2) 0.5 C</li>
<li>3) 1 C</li>
</ul>
<p>The user should input the desired option.</p>
<p>After chosing the charging current, the program will assign it to <code>i_char</code> and print it.</p>
<p>Unless the user press <em>ESC</em>, in that case the program will be restarted to the <code>STANBY</code> state.</p>
<p>If the user press something different from <em>1</em>, <em>2</em>, <em>3</em> or <em>ESC</em> the program will print a warning message and wait for a valid input.</p>
<p>Next, the program will show the end-of-charge current constant that is:</p>
<blockquote class="doxtable">
<p><code>Li_Ion_EOC_curr</code> = 100 mA </p>
</blockquote>
<p>For the discharging current it will show three options:</p>
<ul>
<li>1) 0.25 C</li>
<li>2) 0.5 C</li>
<li>3) 1 C</li>
</ul>
<p>The user should input the desired option.</p>
<p>After chosing the discharging current, the program will assign it to <code>i_disc</code> and print it.</p>
<p>Unless the user press <em>ESC</em>, in that case the program will be restarted to the <code>STANBY</code> state.</p>
<p>If the user press something different from <em>1</em>, <em>2</em>, <em>3</em> or <em>ESC</em> the program will print a warning message and wait for a valid input.</p>
<p>Next, the program will show the end-of-discharge voltage constant that is: ((CHANGE THIS STYLE))</p>
<blockquote class="doxtable">
<p><code>Li_Ion_EOD_volt</code> = <code>3000</code> [mV] </p>
</blockquote>
<p>For the test cycle it will show four options:</p>
<ul>
<li>1) Precharge-&gt;Discharge-&gt;Charge (includes DC resistance measure after charge and after discharge).</li>
<li>2) Discharge-&gt;Charge (includes DC resistance measure after charge and after discharge).</li>
<li>3) Only Charge</li>
<li>4) Only Discharge</li>
</ul>
<p>The user should input the desired option, which will be assigned to <code>option</code> </p>
<p>After that the program will print it.</p>
<p>Unless the user press <em>ESC</em>, in that case the program will be restarted to the <code>STANBY</code> state.</p>
<p>If the user press something different from <em>1</em>, <em>2</em>, <em>3</em>, <em>4</em> or <em>ESC</em> the program will print a warning message and wait for a valid input.</p>
<p>Then, the program will ask the user how many cells he wants to test (4 cells is the maximum):</p>
<p>The user should input the desired number, which will be assigned to <code>cell_max</code> </p>
<p>After that the program will print it.</p>
<p>Unless the user press <em>ESC</em>, in that case the program will be restarted to the <code>STANBY</code> state.</p>
<p>If the user press something different from <em>1</em>, <em>2</em>, <em>3</em>, <em>4</em> or <em>ESC</em> the program will print a warning message and wait for a valid input.</p>
<p>After the user has set the number of cells the program will go to the <code>IDLE</code> state. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="state__machine_8c.html#aab8843d66ed853494d05155924f4229e" title="This function define the IDLE state of the state machine. ">fIDLE()</a> </dd></dl>

</div>
</div>
<a id="aeac0a5594a4b61dc230b3a3a87cabbbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac0a5594a4b61dc230b3a3a87cabbbc">&#9670;&nbsp;</a></span>Start_state_machine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Start_state_machine </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to start the state machine. </p>
<p>At first, this function will check which is the current cell. This is defined in:</p>
<blockquote class="doxtable">
<p><code>cell_count</code> </p>
</blockquote>
<p>If <code>cell_count</code> is equal to <b>'1'</b>, it will ask for user intervention to start.</p>
<p>It will prompt the user to press <b>'s'</b>.</p>
<p>If the user press it, the program will start.</p>
<p>The user also can press <em>'ESC'</em> and the program will be restarted to the <code>STANBY</code> state.</p>
<p>If the user press something different from <em>s</em>, or <em>ESC</em> the program will print a warning message and wait for a valid input.</p>
<p>If the current cell is <b>not</b> <b>'1'</b> the program will start without the user intervention.</p>
<p>Before starting, the program will print the following:</p>
<p>Starting...</p>
<p>Cell {1,2,3 or 4} </p>

</div>
</div>
<a id="a799208f9adf0381e672de81dc74e0482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a799208f9adf0381e672de81dc74e0482">&#9670;&nbsp;</a></span>State_machine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void State_machine </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function contain the main switching between the states of the main state machine. </p>
<p>The <code>STANDBY</code> state goes to the <a class="el" href="state__machine_8c.html#a615d15018432f32225d7680126353f7b">fSTANDBY()</a> function.</p>
<p>The <code>IDLE</code> state goes to the <a class="el" href="state__machine_8c.html#aab8843d66ed853494d05155924f4229e">fIDLE()</a> function.</p>
<p>The <code>PRECHARGE</code> and <code>CHARGE</code> states go to the <a class="el" href="state__machine_8c.html#a2f63169934c3ee15942c859a2619e78e">fCHARGE()</a> function.</p>
<p>The <code>DISCHARGE</code> state goes to the <a class="el" href="state__machine_8c.html#a472415d54e3ef78c66a3f751e4eec24c">fDISCHARGE()</a> function.</p>
<p>The <code>CS_DC_res</code> and <code>DS_DC_res</code> states go to the <a class="el" href="state__machine_8c.html#abfbd54f51445d45b916ee44c9c1d24ae">fDC_res()</a> function.</p>
<p>The <code>WAIT</code> state goes to the <a class="el" href="state__machine_8c.html#a921708424dee13fb5c6f6f1029723cea">fWAIT()</a> function.</p>
<p>The <code>ISDONE</code> state goes to the <a class="el" href="state__machine_8c.html#a7d80f4f910216189739bef97a1122ccb">fISDONE()</a> function.</p>
<p>The <code>FAULT</code> state goes to the <a class="el" href="state__machine_8c.html#a357568e00e8e69fdae90ec29d83c8f35">fFAULT()</a> function. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
