<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Electrochemical Cell Charger/Discharger/Tester: hardware.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Electrochemical Cell Charger/Discharger/Tester
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hardware.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware header file for Charge and Discharge System.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;xc.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div>
<p><a href="hardware_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aadc49366a240cc84254d58cb455dee82"><td class="memItemLeft" align="right" valign="top"><a id="aadc49366a240cc84254d58cb455dee82"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#aadc49366a240cc84254d58cb455dee82">ERR_MAX</a>&#160;&#160;&#160;250</td></tr>
<tr class="memdesc:aadc49366a240cc84254d58cb455dee82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum permisible error, useful to avoid ringing. <br /></td></tr>
<tr class="separator:aadc49366a240cc84254d58cb455dee82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bcad3156af59109b8ac2c78c588885a"><td class="memItemLeft" align="right" valign="top"><a id="a5bcad3156af59109b8ac2c78c588885a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a5bcad3156af59109b8ac2c78c588885a">ERR_MIN</a>&#160;&#160;&#160;-250</td></tr>
<tr class="memdesc:a5bcad3156af59109b8ac2c78c588885a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum permisible error, useful to avoid ringing. <br /></td></tr>
<tr class="separator:a5bcad3156af59109b8ac2c78c588885a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024148e99a7143db044a48216664d03d"><td class="memItemLeft" align="right" valign="top"><a id="a024148e99a7143db044a48216664d03d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_XTAL_FREQ</b>&#160;&#160;&#160;32000000</td></tr>
<tr class="separator:a024148e99a7143db044a48216664d03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4455691936f92fdd6c37566fc58ba1f"><td class="memItemLeft" align="right" valign="top"><a id="ad4455691936f92fdd6c37566fc58ba1f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BAUD_RATE</b>&#160;&#160;&#160;9600</td></tr>
<tr class="separator:ad4455691936f92fdd6c37566fc58ba1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420d619b855e71d5e8d4c26e2d0a0461"><td class="memItemLeft" align="right" valign="top"><a id="a420d619b855e71d5e8d4c26e2d0a0461"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>V_CHAN</b>&#160;&#160;&#160;0b01101</td></tr>
<tr class="separator:a420d619b855e71d5e8d4c26e2d0a0461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72da0b033e023b574cca6ab663e25fca"><td class="memItemLeft" align="right" valign="top"><a id="a72da0b033e023b574cca6ab663e25fca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>I_CHAN</b>&#160;&#160;&#160;0b01011</td></tr>
<tr class="separator:a72da0b033e023b574cca6ab663e25fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ddb4ca8b21ecdf02ab19d67cb9142c"><td class="memItemLeft" align="right" valign="top"><a id="a10ddb4ca8b21ecdf02ab19d67cb9142c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>T_CHAN</b>&#160;&#160;&#160;0b01100</td></tr>
<tr class="separator:a10ddb4ca8b21ecdf02ab19d67cb9142c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eaf54b864a26d51679cbcc7f3322cf9"><td class="memItemLeft" align="right" valign="top"><a id="a0eaf54b864a26d51679cbcc7f3322cf9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL1_ON</b>&#160;&#160;&#160;PORTAbits.RA7 = 1</td></tr>
<tr class="separator:a0eaf54b864a26d51679cbcc7f3322cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4e6e0b7adb4da774ac20fbff00a893"><td class="memItemLeft" align="right" valign="top"><a id="a9b4e6e0b7adb4da774ac20fbff00a893"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL2_ON</b>&#160;&#160;&#160;PORTAbits.RA6 = 1</td></tr>
<tr class="separator:a9b4e6e0b7adb4da774ac20fbff00a893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a7eac4ae4b673e22527ed52c3a84ccd"><td class="memItemLeft" align="right" valign="top"><a id="a4a7eac4ae4b673e22527ed52c3a84ccd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL3_ON</b>&#160;&#160;&#160;PORTCbits.RC0 = 1</td></tr>
<tr class="separator:a4a7eac4ae4b673e22527ed52c3a84ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e53e946d76a85cccfb0da40cb52ed4"><td class="memItemLeft" align="right" valign="top"><a id="a72e53e946d76a85cccfb0da40cb52ed4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL4_ON</b>&#160;&#160;&#160;PORTCbits.RC1 = 1</td></tr>
<tr class="separator:a72e53e946d76a85cccfb0da40cb52ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a129e4ca70087ef40f75cb1a262eedccb"><td class="memItemLeft" align="right" valign="top"><a id="a129e4ca70087ef40f75cb1a262eedccb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL1_OFF</b>&#160;&#160;&#160;PORTAbits.RA7 = 0</td></tr>
<tr class="separator:a129e4ca70087ef40f75cb1a262eedccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1579988c69eff7ad877b1bd2a339cfb"><td class="memItemLeft" align="right" valign="top"><a id="ac1579988c69eff7ad877b1bd2a339cfb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL2_OFF</b>&#160;&#160;&#160;PORTAbits.RA6 = 0</td></tr>
<tr class="separator:ac1579988c69eff7ad877b1bd2a339cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517a98dd71380fed753c3514a61be6fd"><td class="memItemLeft" align="right" valign="top"><a id="a517a98dd71380fed753c3514a61be6fd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL3_OFF</b>&#160;&#160;&#160;PORTCbits.RC0 = 0</td></tr>
<tr class="separator:a517a98dd71380fed753c3514a61be6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa926591f10e87bb1273848225e6b316c"><td class="memItemLeft" align="right" valign="top"><a id="aa926591f10e87bb1273848225e6b316c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CELL4_OFF</b>&#160;&#160;&#160;PORTCbits.RC1 = 0</td></tr>
<tr class="separator:aa926591f10e87bb1273848225e6b316c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450cfb6cea2848f3c6459ed5c0df9eef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a450cfb6cea2848f3c6459ed5c0df9eef">AD_SET_CHAN</a>(x)&#160;&#160;&#160;{ ADCON0bits.CHS = x; __delay_us(1); }</td></tr>
<tr class="separator:a450cfb6cea2848f3c6459ed5c0df9eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f8ee4c55d0b9230535c602e01dbbdc"><td class="memItemLeft" align="right" valign="top"><a id="a57f8ee4c55d0b9230535c602e01dbbdc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AD_CONVERT</b>()&#160;&#160;&#160;{ GO_nDONE = 1; while(GO_nDONE);}</td></tr>
<tr class="separator:a57f8ee4c55d0b9230535c602e01dbbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049dca77d5e2be6f3780ce6a632a5ef3"><td class="memItemLeft" align="right" valign="top"><a id="a049dca77d5e2be6f3780ce6a632a5ef3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AD_RESULT</b>()&#160;&#160;&#160;{ <a class="el" href="hardware_8h.html#a02303eca810feb8092be2ff939a714c3">ad_res</a> = 0; <a class="el" href="hardware_8h.html#a02303eca810feb8092be2ff939a714c3">ad_res</a> = (ADRESL &amp; 0xFF)|((ADRESH &lt;&lt; 8) &amp; 0xF00);}</td></tr>
<tr class="separator:a049dca77d5e2be6f3780ce6a632a5ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cb4a0872e924cf862a97b33dd2edf0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#ae1cb4a0872e924cf862a97b33dd2edf0">STOP_CONVERTER</a>()&#160;&#160;&#160;{ conv = 0; RA1 = 1; <a class="el" href="hardware_8h.html#a7feaae074885a9d2f57a75e0809ee4ba">dc</a> = <a class="el" href="hardware_8h.html#a998e4507851dde706a60a5b475eb27ca">DC_MIN</a>; set_DC(); Cell_OFF(); <a class="el" href="hardware_8h.html#a2f57a3156036b713dc852737da390252">LOG_OFF</a>();}</td></tr>
<tr class="memdesc:ae1cb4a0872e924cf862a97b33dd2edf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the converter.  <a href="#ae1cb4a0872e924cf862a97b33dd2edf0">More...</a><br /></td></tr>
<tr class="separator:ae1cb4a0872e924cf862a97b33dd2edf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda4f577829f9d4ff58b9636903cbfe0"><td class="memItemLeft" align="right" valign="top"><a id="acda4f577829f9d4ff58b9636903cbfe0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#acda4f577829f9d4ff58b9636903cbfe0">UART_INT_ON</a>()&#160;&#160;&#160;{ while(RCIF) <a class="el" href="hardware_8h.html#a2ac955a54afa8f9039b93a3f30b04acd">clear</a> = RC1REG; RCIE = 1; }</td></tr>
<tr class="memdesc:acda4f577829f9d4ff58b9636903cbfe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear transmission buffer and turn ON UART transmission interrupts. <br /></td></tr>
<tr class="separator:acda4f577829f9d4ff58b9636903cbfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d26e5ca6078be961b6b42719ebca269"><td class="memItemLeft" align="right" valign="top"><a id="a4d26e5ca6078be961b6b42719ebca269"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a4d26e5ca6078be961b6b42719ebca269">LOG_ON</a>()&#160;&#160;&#160;{ log_on = 1; }</td></tr>
<tr class="memdesc:a4d26e5ca6078be961b6b42719ebca269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn OFF logging in the terminal. <br /></td></tr>
<tr class="separator:a4d26e5ca6078be961b6b42719ebca269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f57a3156036b713dc852737da390252"><td class="memItemLeft" align="right" valign="top"><a id="a2f57a3156036b713dc852737da390252"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a2f57a3156036b713dc852737da390252">LOG_OFF</a>()&#160;&#160;&#160;{ log_on = 0; }</td></tr>
<tr class="memdesc:a2f57a3156036b713dc852737da390252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn ON logging in the terminal. <br /></td></tr>
<tr class="separator:a2f57a3156036b713dc852737da390252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59595b0c67a8bfb8dd65e914a18b83c7"><td class="memItemLeft" align="right" valign="top"><a id="a59595b0c67a8bfb8dd65e914a18b83c7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a59595b0c67a8bfb8dd65e914a18b83c7">RESET_TIME</a>()&#160;&#160;&#160;{ minute = 0; second = -1; }</td></tr>
<tr class="memdesc:a59595b0c67a8bfb8dd65e914a18b83c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset timers. <br /></td></tr>
<tr class="separator:a59595b0c67a8bfb8dd65e914a18b83c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998e4507851dde706a60a5b475eb27ca"><td class="memItemLeft" align="right" valign="top"><a id="a998e4507851dde706a60a5b475eb27ca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a998e4507851dde706a60a5b475eb27ca">DC_MIN</a>&#160;&#160;&#160;25</td></tr>
<tr class="memdesc:a998e4507851dde706a60a5b475eb27ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum possible duty cycle, set around <b>0.05</b>. <br /></td></tr>
<tr class="separator:a998e4507851dde706a60a5b475eb27ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa845f7768f44631f4b54b9cde4dc2b2f"><td class="memItemLeft" align="right" valign="top"><a id="aa845f7768f44631f4b54b9cde4dc2b2f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#aa845f7768f44631f4b54b9cde4dc2b2f">DC_START</a>&#160;&#160;&#160;51</td></tr>
<tr class="memdesc:aa845f7768f44631f4b54b9cde4dc2b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial duty cycle, set around <b>0.1</b>. <br /></td></tr>
<tr class="separator:aa845f7768f44631f4b54b9cde4dc2b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701d2222601b84faafa94cb1909df104"><td class="memItemLeft" align="right" valign="top"><a id="a701d2222601b84faafa94cb1909df104"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a701d2222601b84faafa94cb1909df104">DC_MAX</a>&#160;&#160;&#160;385</td></tr>
<tr class="memdesc:a701d2222601b84faafa94cb1909df104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum possible duty cycle, set around <b>0.8</b>. <br /></td></tr>
<tr class="separator:a701d2222601b84faafa94cb1909df104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7194053a42881b1b4bc8546b4c8713e9"><td class="memItemLeft" align="right" valign="top"><a id="a7194053a42881b1b4bc8546b4c8713e9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a7194053a42881b1b4bc8546b4c8713e9">COUNTER</a>&#160;&#160;&#160;250</td></tr>
<tr class="memdesc:a7194053a42881b1b4bc8546b4c8713e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter value, needed to obtained one second between counts. <br /></td></tr>
<tr class="separator:a7194053a42881b1b4bc8546b4c8713e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0597ae89918183de03119186d8995e75"><td class="memItemLeft" align="right" valign="top"><a id="a0597ae89918183de03119186d8995e75"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a0597ae89918183de03119186d8995e75">LINEBREAK</a>&#160;&#160;&#160;UART_send_char(10)</td></tr>
<tr class="memdesc:a0597ae89918183de03119186d8995e75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a linebreak to the terminal. <br /></td></tr>
<tr class="separator:a0597ae89918183de03119186d8995e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7f34e789c6e833bd0e987f5f5cfca365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a7f34e789c6e833bd0e987f5f5cfca365">Initialize</a> (void)</td></tr>
<tr class="separator:a7f34e789c6e833bd0e987f5f5cfca365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a143056627f837b281f195ba522a7e"><td class="memItemLeft" align="right" valign="top"><a id="aa9a143056627f837b281f195ba522a7e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Shutdown_Peripherals</b> (void)</td></tr>
<tr class="separator:aa9a143056627f837b281f195ba522a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec5a6c32a29ad24780959fcdb06fedc"><td class="memItemLeft" align="right" valign="top"><a id="a9ec5a6c32a29ad24780959fcdb06fedc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pid</b> (float feedback, unsigned int setpoint)</td></tr>
<tr class="separator:a9ec5a6c32a29ad24780959fcdb06fedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f3630c962d9bcafd71e4c4a03547c1"><td class="memItemLeft" align="right" valign="top"><a id="a93f3630c962d9bcafd71e4c4a03547c1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_DC</b> (void)</td></tr>
<tr class="separator:a93f3630c962d9bcafd71e4c4a03547c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1402bbcb4580b6798483c7821e6106d2"><td class="memItemLeft" align="right" valign="top"><a id="a1402bbcb4580b6798483c7821e6106d2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>read_ADC</b> (void)</td></tr>
<tr class="separator:a1402bbcb4580b6798483c7821e6106d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8b498532d1d667c624601a3cf715bc"><td class="memItemLeft" align="right" valign="top"><a id="a0b8b498532d1d667c624601a3cf715bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>log_control</b> (void)</td></tr>
<tr class="separator:a0b8b498532d1d667c624601a3cf715bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4389e5f80fbf28788f2f648f26d93fce"><td class="memItemLeft" align="right" valign="top"><a id="a4389e5f80fbf28788f2f648f26d93fce"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>display_value</b> (int value)</td></tr>
<tr class="separator:a4389e5f80fbf28788f2f648f26d93fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab308304942d68ad5733f1a0a9685a4"><td class="memItemLeft" align="right" valign="top"><a id="a9ab308304942d68ad5733f1a0a9685a4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>cc_cv_mode</b> (float current_voltage, unsigned int reference_voltage, char CC_mode_status)</td></tr>
<tr class="separator:a9ab308304942d68ad5733f1a0a9685a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4819615331bcb65942c83dd61447059"><td class="memItemLeft" align="right" valign="top"><a id="ae4819615331bcb65942c83dd61447059"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>char_disc</b> (void)</td></tr>
<tr class="separator:ae4819615331bcb65942c83dd61447059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f05187afaedd0cd35e9137eaf557ef8"><td class="memItemLeft" align="right" valign="top"><a id="a4f05187afaedd0cd35e9137eaf557ef8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>control_loop</b> (void)</td></tr>
<tr class="separator:a4f05187afaedd0cd35e9137eaf557ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f580a1d85442504950b07e3c8f1145"><td class="memItemLeft" align="right" valign="top"><a id="ab2f580a1d85442504950b07e3c8f1145"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>calculate_avg</b> (void)</td></tr>
<tr class="separator:ab2f580a1d85442504950b07e3c8f1145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bcf31185383adefc22f2209541c9991"><td class="memItemLeft" align="right" valign="top"><a id="a4bcf31185383adefc22f2209541c9991"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>UART_interrupt_enable</b> (void)</td></tr>
<tr class="separator:a4bcf31185383adefc22f2209541c9991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf92d1a230db7234bdf5119716a0cf5f"><td class="memItemLeft" align="right" valign="top"><a id="abf92d1a230db7234bdf5119716a0cf5f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>UART_send_char</b> (char bt)</td></tr>
<tr class="separator:abf92d1a230db7234bdf5119716a0cf5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae033bb8a9289af391aef3cc3bd57a0e9"><td class="memItemLeft" align="right" valign="top"><a id="ae033bb8a9289af391aef3cc3bd57a0e9"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>UART_get_char</b> (void)</td></tr>
<tr class="separator:ae033bb8a9289af391aef3cc3bd57a0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27ccd7f2eb1f5e96bb091338acc1e7f"><td class="memItemLeft" align="right" valign="top"><a id="ac27ccd7f2eb1f5e96bb091338acc1e7f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>UART_send_string</b> (char *st_pt)</td></tr>
<tr class="separator:ac27ccd7f2eb1f5e96bb091338acc1e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75740b5600396316399a5608fe2cb4d3"><td class="memItemLeft" align="right" valign="top"><a id="a75740b5600396316399a5608fe2cb4d3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Cell_ON</b> (void)</td></tr>
<tr class="separator:a75740b5600396316399a5608fe2cb4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbc85db8cf08142e0984d07b97e722b"><td class="memItemLeft" align="right" valign="top"><a id="a5bbc85db8cf08142e0984d07b97e722b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Cell_OFF</b> (void)</td></tr>
<tr class="separator:a5bbc85db8cf08142e0984d07b97e722b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a34e3f615b83a0c9d721b76899b2a4"><td class="memItemLeft" align="right" valign="top"><a id="ad2a34e3f615b83a0c9d721b76899b2a4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>timing</b> (void)</td></tr>
<tr class="separator:ad2a34e3f615b83a0c9d721b76899b2a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6a9e89d63eb610dfe238b0a840979421"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a6a9e89d63eb610dfe238b0a840979421">count</a></td></tr>
<tr class="memdesc:a6a9e89d63eb610dfe238b0a840979421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter that should be cleared every second.  <a href="#a6a9e89d63eb610dfe238b0a840979421">More...</a><br /></td></tr>
<tr class="separator:a6a9e89d63eb610dfe238b0a840979421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02303eca810feb8092be2ff939a714c3"><td class="memItemLeft" align="right" valign="top"><a id="a02303eca810feb8092be2ff939a714c3"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a02303eca810feb8092be2ff939a714c3">ad_res</a></td></tr>
<tr class="memdesc:a02303eca810feb8092be2ff939a714c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result of an ADC measurement. <br /></td></tr>
<tr class="separator:a02303eca810feb8092be2ff939a714c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d9522e58fa05906c6dba23e5745a72"><td class="memItemLeft" align="right" valign="top"><a id="a48d9522e58fa05906c6dba23e5745a72"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a48d9522e58fa05906c6dba23e5745a72">v</a></td></tr>
<tr class="memdesc:a48d9522e58fa05906c6dba23e5745a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last voltage ADC measurement. <br /></td></tr>
<tr class="separator:a48d9522e58fa05906c6dba23e5745a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e739b7bdf8275493686ae76e3705c3"><td class="memItemLeft" align="right" valign="top"><a id="a58e739b7bdf8275493686ae76e3705c3"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a58e739b7bdf8275493686ae76e3705c3">i</a></td></tr>
<tr class="memdesc:a58e739b7bdf8275493686ae76e3705c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last current ADC measurement. <br /></td></tr>
<tr class="separator:a58e739b7bdf8275493686ae76e3705c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea36502e9d227ff62c5fb2719a246f2"><td class="memItemLeft" align="right" valign="top"><a id="afea36502e9d227ff62c5fb2719a246f2"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#afea36502e9d227ff62c5fb2719a246f2">t</a></td></tr>
<tr class="memdesc:afea36502e9d227ff62c5fb2719a246f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last temperature ADC measurement. <br /></td></tr>
<tr class="separator:afea36502e9d227ff62c5fb2719a246f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a45b535ece3b14958359be03fa74b0"><td class="memItemLeft" align="right" valign="top"><a id="aa8a45b535ece3b14958359be03fa74b0"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#aa8a45b535ece3b14958359be03fa74b0">vprom</a></td></tr>
<tr class="memdesc:aa8a45b535ece3b14958359be03fa74b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last one-second-average of <a class="el" href="hardware_8h.html#a48d9522e58fa05906c6dba23e5745a72">v</a>. <br /></td></tr>
<tr class="separator:aa8a45b535ece3b14958359be03fa74b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce1f09585094a8102cf627d00de6d6f"><td class="memItemLeft" align="right" valign="top"><a id="afce1f09585094a8102cf627d00de6d6f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#afce1f09585094a8102cf627d00de6d6f">iprom</a></td></tr>
<tr class="memdesc:afce1f09585094a8102cf627d00de6d6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last one-second-average of <a class="el" href="hardware_8h.html#a58e739b7bdf8275493686ae76e3705c3">i</a>. <br /></td></tr>
<tr class="separator:afce1f09585094a8102cf627d00de6d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade869e001da18e227da4d9dbb0b616da"><td class="memItemLeft" align="right" valign="top"><a id="ade869e001da18e227da4d9dbb0b616da"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#ade869e001da18e227da4d9dbb0b616da">tprom</a></td></tr>
<tr class="memdesc:ade869e001da18e227da4d9dbb0b616da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last one-second-average of <a class="el" href="hardware_8h.html#afea36502e9d227ff62c5fb2719a246f2">t</a>. <br /></td></tr>
<tr class="separator:ade869e001da18e227da4d9dbb0b616da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16200aa761421d421187ce19c33dfcd0"><td class="memItemLeft" align="right" valign="top"><a id="a16200aa761421d421187ce19c33dfcd0"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a16200aa761421d421187ce19c33dfcd0">qprom</a></td></tr>
<tr class="memdesc:a16200aa761421d421187ce19c33dfcd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integration of <a class="el" href="hardware_8h.html#a58e739b7bdf8275493686ae76e3705c3">i</a>. <br /></td></tr>
<tr class="separator:a16200aa761421d421187ce19c33dfcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb4eb9ad2dc148d828a7f6e270aa0f09"><td class="memItemLeft" align="right" valign="top"><a id="aeb4eb9ad2dc148d828a7f6e270aa0f09"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#aeb4eb9ad2dc148d828a7f6e270aa0f09">vmax</a> = 0</td></tr>
<tr class="memdesc:aeb4eb9ad2dc148d828a7f6e270aa0f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum recorded average voltage. <br /></td></tr>
<tr class="separator:aeb4eb9ad2dc148d828a7f6e270aa0f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad984965db113bd0969498c826e23ab44"><td class="memItemLeft" align="right" valign="top"><a id="ad984965db113bd0969498c826e23ab44"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#ad984965db113bd0969498c826e23ab44">proportional</a></td></tr>
<tr class="memdesc:ad984965db113bd0969498c826e23ab44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proportional component of PI compensator. <br /></td></tr>
<tr class="separator:ad984965db113bd0969498c826e23ab44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1174af01b8a329a6d465ea6e0951b3e5"><td class="memItemLeft" align="right" valign="top"><a id="a1174af01b8a329a6d465ea6e0951b3e5"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a1174af01b8a329a6d465ea6e0951b3e5">integral</a></td></tr>
<tr class="memdesc:a1174af01b8a329a6d465ea6e0951b3e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integral component of PI compensator. <br /></td></tr>
<tr class="separator:a1174af01b8a329a6d465ea6e0951b3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7add0f84d583bc2eceb290d6c4cc06"><td class="memItemLeft" align="right" valign="top"><a id="a1f7add0f84d583bc2eceb290d6c4cc06"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a1f7add0f84d583bc2eceb290d6c4cc06">kp</a></td></tr>
<tr class="memdesc:a1f7add0f84d583bc2eceb290d6c4cc06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proportional compesator gain. <br /></td></tr>
<tr class="separator:a1f7add0f84d583bc2eceb290d6c4cc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050993b7ca6c97e62c1020017f716b91"><td class="memItemLeft" align="right" valign="top"><a id="a050993b7ca6c97e62c1020017f716b91"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a050993b7ca6c97e62c1020017f716b91">ki</a></td></tr>
<tr class="memdesc:a050993b7ca6c97e62c1020017f716b91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Integral compesator gain. <br /></td></tr>
<tr class="separator:a050993b7ca6c97e62c1020017f716b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a556ee5b6e008717e9b6b8916c36a4"><td class="memItemLeft" align="right" valign="top"><a id="a12a556ee5b6e008717e9b6b8916c36a4"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a12a556ee5b6e008717e9b6b8916c36a4">vref</a></td></tr>
<tr class="memdesc:a12a556ee5b6e008717e9b6b8916c36a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Voltage setpoint. <br /></td></tr>
<tr class="separator:a12a556ee5b6e008717e9b6b8916c36a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6bab6490e9e38ab60181b5cda64c53b"><td class="memItemLeft" align="right" valign="top"><a id="ab6bab6490e9e38ab60181b5cda64c53b"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#ab6bab6490e9e38ab60181b5cda64c53b">iref</a></td></tr>
<tr class="memdesc:ab6bab6490e9e38ab60181b5cda64c53b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current setpoint. <br /></td></tr>
<tr class="separator:ab6bab6490e9e38ab60181b5cda64c53b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14de202054f8be3764087df08c27eda"><td class="memItemLeft" align="right" valign="top"><a id="aa14de202054f8be3764087df08c27eda"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#aa14de202054f8be3764087df08c27eda">cmode</a></td></tr>
<tr class="memdesc:aa14de202054f8be3764087df08c27eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">CC / CV selector. CC: <code> cmode = 1 </code>. CV: <code> cmode = 0 </code> <br /></td></tr>
<tr class="separator:aa14de202054f8be3764087df08c27eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7feaae074885a9d2f57a75e0809ee4ba"><td class="memItemLeft" align="right" valign="top"><a id="a7feaae074885a9d2f57a75e0809ee4ba"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a7feaae074885a9d2f57a75e0809ee4ba">dc</a> = 0</td></tr>
<tr class="memdesc:a7feaae074885a9d2f57a75e0809ee4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duty cycle. <br /></td></tr>
<tr class="separator:a7feaae074885a9d2f57a75e0809ee4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae164380501a47692b208c695e95a5311"><td class="memItemLeft" align="right" valign="top"><a id="ae164380501a47692b208c695e95a5311"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><b>spb</b></td></tr>
<tr class="separator:ae164380501a47692b208c695e95a5311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac955a54afa8f9039b93a3f30b04acd"><td class="memItemLeft" align="right" valign="top"><a id="a2ac955a54afa8f9039b93a3f30b04acd"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a2ac955a54afa8f9039b93a3f30b04acd">clear</a></td></tr>
<tr class="memdesc:a2ac955a54afa8f9039b93a3f30b04acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable to clear the transmission buffer of UART. <br /></td></tr>
<tr class="separator:a2ac955a54afa8f9039b93a3f30b04acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9205727cab72e65f536e9ef6445db0"><td class="memItemLeft" align="right" valign="top"><a id="a8c9205727cab72e65f536e9ef6445db0"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>log_on</b> = 0</td></tr>
<tr class="separator:a8c9205727cab72e65f536e9ef6445db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f2ad896b5d2be3ebe2145c7b00e033"><td class="memItemLeft" align="right" valign="top"><a id="a20f2ad896b5d2be3ebe2145c7b00e033"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>log_buffer</b> [8] ={0}</td></tr>
<tr class="separator:a20f2ad896b5d2be3ebe2145c7b00e033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639c6c3902af09dac255279f04f0db89"><td class="memItemLeft" align="right" valign="top"><a id="a639c6c3902af09dac255279f04f0db89"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a639c6c3902af09dac255279f04f0db89">ip_buff</a> = 0</td></tr>
<tr class="memdesc:a639c6c3902af09dac255279f04f0db89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current buffer to send to the terminal usign <a class="el" href="#a76c124e0fe411cb223495b945f9e7b6d">log_control()</a>. <br /></td></tr>
<tr class="separator:a639c6c3902af09dac255279f04f0db89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b685d478b266b9155c576dd4da0dc0"><td class="memItemLeft" align="right" valign="top"><a id="aa9b685d478b266b9155c576dd4da0dc0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#aa9b685d478b266b9155c576dd4da0dc0">vp_buff</a> = 0</td></tr>
<tr class="memdesc:aa9b685d478b266b9155c576dd4da0dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Voltage buffer to send to the terminal usign <a class="el" href="#a76c124e0fe411cb223495b945f9e7b6d">log_control()</a>. <br /></td></tr>
<tr class="separator:aa9b685d478b266b9155c576dd4da0dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f437b35570f9f0fd44ec4ba168ac115"><td class="memItemLeft" align="right" valign="top"><a id="a9f437b35570f9f0fd44ec4ba168ac115"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#a9f437b35570f9f0fd44ec4ba168ac115">tp_buff</a> = 0</td></tr>
<tr class="memdesc:a9f437b35570f9f0fd44ec4ba168ac115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temperature buffer to send to the terminal usign <a class="el" href="#a76c124e0fe411cb223495b945f9e7b6d">log_control()</a>. <br /></td></tr>
<tr class="separator:a9f437b35570f9f0fd44ec4ba168ac115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7319d00b273407ffe5f28b29e97a1c7"><td class="memItemLeft" align="right" valign="top"><a id="af7319d00b273407ffe5f28b29e97a1c7"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardware_8h.html#af7319d00b273407ffe5f28b29e97a1c7">qp_buff</a> = 0</td></tr>
<tr class="memdesc:af7319d00b273407ffe5f28b29e97a1c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capacity buffer to send to the terminal usign <a class="el" href="#a76c124e0fe411cb223495b945f9e7b6d">log_control()</a>. <br /></td></tr>
<tr class="separator:af7319d00b273407ffe5f28b29e97a1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf35be1947a62f134392fcb1b3c54d2"><td class="memItemLeft" align="right" valign="top"><a id="a6cf35be1947a62f134392fcb1b3c54d2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>second</b> = 0</td></tr>
<tr class="separator:a6cf35be1947a62f134392fcb1b3c54d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5edffad982a0566ad01d95005474eae3"><td class="memItemLeft" align="right" valign="top"><a id="a5edffad982a0566ad01d95005474eae3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>minute</b> = 0</td></tr>
<tr class="separator:a5edffad982a0566ad01d95005474eae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd15b1b4bbdd7329986c9c4af33d10d"><td class="memItemLeft" align="right" valign="top"><a id="a7bd15b1b4bbdd7329986c9c4af33d10d"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>timeout</b> = 0</td></tr>
<tr class="separator:a7bd15b1b4bbdd7329986c9c4af33d10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e0a97c0d8ad515b444eb349134d9ad"><td class="memItemLeft" align="right" valign="top"><a id="a43e0a97c0d8ad515b444eb349134d9ad"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>comma</b> = ','</td></tr>
<tr class="separator:a43e0a97c0d8ad515b444eb349134d9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6566afc517c1e78ec8c5d1254968b8de"><td class="memItemLeft" align="right" valign="top"><a id="a6566afc517c1e78ec8c5d1254968b8de"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>colons</b> = ':'</td></tr>
<tr class="separator:a6566afc517c1e78ec8c5d1254968b8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22eabf79fefb1021751f5c96dba82c1"><td class="memItemLeft" align="right" valign="top"><a id="af22eabf79fefb1021751f5c96dba82c1"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>S_str</b> = 'S'</td></tr>
<tr class="separator:af22eabf79fefb1021751f5c96dba82c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372df28ca2dd6d5c28b2e24f8b2191b1"><td class="memItemLeft" align="right" valign="top"><a id="a372df28ca2dd6d5c28b2e24f8b2191b1"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>C_str</b> = 'C'</td></tr>
<tr class="separator:a372df28ca2dd6d5c28b2e24f8b2191b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad192efa8f8a61829c3f21b83dccaa8a4"><td class="memItemLeft" align="right" valign="top"><a id="ad192efa8f8a61829c3f21b83dccaa8a4"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>V_str</b> = 'V'</td></tr>
<tr class="separator:ad192efa8f8a61829c3f21b83dccaa8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5286907f5157a3240106f0dfa37d5dc"><td class="memItemLeft" align="right" valign="top"><a id="af5286907f5157a3240106f0dfa37d5dc"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>I_str</b> = 'I'</td></tr>
<tr class="separator:af5286907f5157a3240106f0dfa37d5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda72d580036fe63aca283d37a974f36"><td class="memItemLeft" align="right" valign="top"><a id="adda72d580036fe63aca283d37a974f36"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>T_str</b> = 'T'</td></tr>
<tr class="separator:adda72d580036fe63aca283d37a974f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c943b584242ce58c0ded2ab26abcc5"><td class="memItemLeft" align="right" valign="top"><a id="a70c943b584242ce58c0ded2ab26abcc5"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>Q_str</b> = 'Q'</td></tr>
<tr class="separator:a70c943b584242ce58c0ded2ab26abcc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fe4dd2877e813e414fcec5a01056bd"><td class="memItemLeft" align="right" valign="top"><a id="ab5fe4dd2877e813e414fcec5a01056bd"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>R_str</b> = 'R'</td></tr>
<tr class="separator:ab5fe4dd2877e813e414fcec5a01056bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97d1d3fa767a6ec1ac8a236112a065d"><td class="memItemLeft" align="right" valign="top"><a id="af97d1d3fa767a6ec1ac8a236112a065d"></a>
char const&#160;</td><td class="memItemRight" valign="bottom"><b>W_str</b> = 'W'</td></tr>
<tr class="separator:af97d1d3fa767a6ec1ac8a236112a065d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Hardware header file for Charge and Discharge System. </p>
<dl class="section author"><dt>Author</dt><dd>Juan J. Rojas </dd></dl>
<dl class="section date"><dt>Date</dt><dd>7 Aug 2018 </dd></dl>
<dl class="section user"><dt>Institution:</dt><dd>LaSEINE / CeNT. Kyushu Institute of Technology. </dd></dl>
<dl class="section user"><dt>Mail (after leaving Kyutech):</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'jua'+'n.'+'roj'+'as'+'@te'+'c.'+'ac.'+'cr'; return false;">juan.<span style="display: none;">.nosp@m.</span>roja<span style="display: none;">.nosp@m.</span>s@tec<span style="display: none;">.nosp@m.</span>.ac.<span style="display: none;">.nosp@m.</span>cr</a> </dd></dl>
<dl class="section user"><dt>Git repository:</dt><dd><a href="https://bitbucket.org/juanjorojash/cell_charger_discharger">https://bitbucket.org/juanjorojash/cell_charger_discharger</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a450cfb6cea2848f3c6459ed5c0df9eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a450cfb6cea2848f3c6459ed5c0df9eef">&#9670;&nbsp;</a></span>AD_SET_CHAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AD_SET_CHAN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;{ ADCON0bits.CHS = x; __delay_us(1); }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the ADC channel to <code>x</code> and wait for 5 microseconds. </p>

</div>
</div>
<a id="ae1cb4a0872e924cf862a97b33dd2edf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cb4a0872e924cf862a97b33dd2edf0">&#9670;&nbsp;</a></span>STOP_CONVERTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STOP_CONVERTER</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;{ conv = 0; RA1 = 1; <a class="el" href="hardware_8h.html#a7feaae074885a9d2f57a75e0809ee4ba">dc</a> = <a class="el" href="hardware_8h.html#a998e4507851dde706a60a5b475eb27ca">DC_MIN</a>; set_DC(); Cell_OFF(); <a class="el" href="hardware_8h.html#a2f57a3156036b713dc852737da390252">LOG_OFF</a>();}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the converter. </p>
<p>Set <code>conv</code> to zero, turn off the main relay (<code>RA1</code>), set the duty cycle in <code>DC_MIN</code>, turn off all the cell relays in the switcher board, disable the logging of data to the terminal and the USART reception interrupts. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7f34e789c6e833bd0e987f5f5cfca365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f34e789c6e833bd0e987f5f5cfca365">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize SPBRG register for required baud rate and set BRGH for fast baud_rate </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6a9e89d63eb610dfe238b0a840979421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9e89d63eb610dfe238b0a840979421">&#9670;&nbsp;</a></span>count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned count</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counter that should be cleared every second. </p>
<p>Every control loop cycle this counter will be decreased. This variable is used to calculate the averages and to trigger all the events that are done every second. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
